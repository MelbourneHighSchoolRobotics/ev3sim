

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Randomisation &mdash; ev3sim  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> ev3sim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting up and Running EV3Sim</a></li>
<li class="toctree-l1"><a class="reference internal" href="batched_commands.html">Simulation Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="bot_editing.html">Bot editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="ev3_extensions.html">Extensions to normal EV3 Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_presets.html">Custom Preset Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="system.html">Simulation Objects</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ev3sim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Randomisation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/randomisation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="randomisation">
<h1>Randomisation<a class="headerlink" href="#randomisation" title="Permalink to this headline">¶</a></h1>
<p>TODO: Change this to gui docs</p>
<p>When executing <code class="docutils literal notranslate"><span class="pre">ev3sim</span></code> you may notice that the following is printed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Simulating with seed <span class="m">0000000000</span>
</pre></div>
</div>
<p>But with a different number to the one above. This number is the ‘seed’ and essentially defines all randomness that will occur within the system.</p>
<p>Despite being mostly the same on every run, some elements of the simulation require randomness, for realism, and to ensure that every run is slightly different:</p>
<ul class="simple">
<li><p>The spawn positions of bots and balls is slightly randomised.</p></li>
<li><p>The way a colour sensor detects colours requires randomness.</p></li>
</ul>
<p>As such in order to redo a simulation exactly as was done before, we want to be able to use the same seed, to ensure all random numbers are also the same.</p>
<p>You can do this with the <code class="docutils literal notranslate"><span class="pre">--seed</span></code> or <code class="docutils literal notranslate"><span class="pre">-s</span></code> flag in <code class="docutils literal notranslate"><span class="pre">ev3sim</span></code>. As an example, to simulate with seed 123456789, you can do the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ev3sim bot.yaml --seed <span class="m">123456789</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">Simulating</span> <span class="pre">with</span> <span class="pre">seed</span></code> line will respect this change. The seed can be any integer from 0 to 2^32 - 1, inclusive.</p>
<p>To make simulation of devices a bit more realistic, there is also support for the randomisation of device characteristics, in similar ways to what you might expect in real life. Examples include:</p>
<ul class="simple">
<li><p>Motors having a theoretical maximum speed, but also a physical one which differs slightly</p></li>
<li><p>Sensors having slight biases towards certain directions</p></li>
</ul>
<p>And you can enable this randomisation by using the <code class="docutils literal notranslate"><span class="pre">soccer_random.yaml</span></code> preset rather than <code class="docutils literal notranslate"><span class="pre">soccer.yaml</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ev3sim bot.yaml --seed <span class="m">123456789</span> -p soccer_random.yaml
</pre></div>
</div>
<p>To add randomisation to your particular preset, you only need to add the following:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">settings</span><span class="p">:</span>
  <span class="nt">ev3sim.simulation.loader.ScriptLoader.RANDOMISE_SENSORS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>That being said, some of this randomisation is not done based on the seed, but rather the port and robot the device is connected to (This is to simulate you working with the same device with the same bias between runs). As a rule of thumb:</p>
<ul class="simple">
<li><p>Internal biases of devices will be static on the same port / robot filename.</p></li>
<li><p>Randomness which is introduced over time or every game tick is tied to the seed.</p></li>
</ul>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Jackson Goerner, James Bui, Richard Huang, Angus Trau, Peter Drew

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>